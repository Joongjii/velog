<article>

  <hr />

  <h2>1. 튜플이 뭐야? (한 줄 정의)</h2>

  <p>
    <strong>서로 다른 타입의 값 여러 개를 “작은 묶음”으로 만들어서, 한 변수 / 한 반환값으로 다루게 해주는 타입</strong>이다.
  </p>

  <p>예를 들어,</p>

  <ul>
    <li>이름: <code>string</code></li>
    <li>나이: <code>int</code></li>
    <li>키: <code>double</code></li>
  </ul>

  <p>
    이런 정보를 위해 <code>Person</code> 클래스를 굳이 만들지 않고, 그냥 한 번에 묶어서 쓰고 싶다면 튜플을 사용할 수 있다.
  </p>

  <pre><code class="language-csharp">(string Name, int Age, double Height) person = ("홍길동", 30, 175.5);</code></pre>

  <p>이렇게 하면 <code>person</code> 하나에 세 가지 값이 함께 들어간다.</p>

  <hr />

  <h2>2. C#에서 쓰는 두 종류의 튜플</h2>

  <p>C#에는 크게 두 세대의 튜플이 있다.</p>

  <ol>
    <li><strong>옛날 스타일 튜플</strong>: <code>Tuple&lt;T1, T2, ...&gt;</code><br />
      → 참조 타입(클래스), <code>Item1</code>, <code>Item2</code>로 접근</li>
    <li><strong>요즘 스타일 튜플</strong>: 값 튜플(ValueTuple)<br />
      → <code>(int, string)</code> 이런 식 문법, C# 7부터 본격 도입</li>
  </ol>

  <p>
    현재는 보통 <strong>2번 ValueTuple 문법</strong>을 쓰는 것이 일반적이다.
  </p>

  <hr />

  <h2>3. 기본 문법 – 값 튜플(ValueTuple)</h2>

  <h3>3-1. 만들기</h3>

  <pre><code class="language-csharp">var t = (10, "Hello");   // (int, string) 타입으로 추론됨</code></pre>

  <p>타입을 직접 명시해도 된다.</p>

  <pre><code class="language-csharp">(int, string) t = (10, "Hello");</code></pre>

  <h3>3-2. 꺼내서 쓰기 (Item1, Item2)</h3>

  <pre><code class="language-csharp">Console.WriteLine(t.Item1); // 10
Console.WriteLine(t.Item2); // Hello</code></pre>

  <p>
    이름 없이 사용할 경우 <code>Item1</code>, <code>Item2</code>와 같은 기본 이름으로 접근할 수 있다.
  </p>

  <hr />

  <h2>4. “이름 있는 튜플”이 훨씬 편하다</h2>

  <p>
    튜플 요소에는 <strong>직접 이름을 붙일 수 있다</strong>. 이 방식을 많이 사용한다.
  </p>

  <pre><code class="language-csharp">(string Name, int Age) person = ("홍길동", 30);

Console.WriteLine(person.Name); // "홍길동"
Console.WriteLine(person.Age);  // 30</code></pre>

  <p>
    이렇게 쓰면 <code>Item1</code>, <code>Item2</code> 대신 의미 있는 이름으로 접근할 수 있어 코드 가독성이 좋아진다.
  </p>

  <p><code>var</code>와 함께 쓰는 경우도 흔하다.</p>

  <pre><code class="language-csharp">var person = (Name: "홍길동", Age: 30);

Console.WriteLine(person.Name);
Console.WriteLine(person.Age);</code></pre>

  <hr />

  <h2>5. 가장 많이 쓰는 용도 1 – 메서드에서 여러 값 반환</h2>

  <p>
    C# 메서드는 원래 반환값을 하나만 돌려줄 수 있다.  
    그래서 예전에는 다음과 같은 방법을 많이 썼다.
  </p>

  <ul>
    <li><code>out</code> 매개변수</li>
    <li><code>ref</code> 매개변수</li>
    <li>별도의 DTO/클래스 생성 후 반환</li>
  </ul>

  <p>
    튜플을 쓰면 <strong>“반환값은 하나이지만, 그 안에 여러 개를 묶어서 보내는 것”</strong>이 가능해진다.
  </p>

  <h3>5-1. 예시: 나누기 결과 + 나머지를 동시에 반환</h3>

  <pre><code class="language-csharp">// 몫과 나머지를 한 번에 반환하는 메서드
static (int Quotient, int Remainder) Divide(int a, int b)
{
    int q = a / b;
    int r = a % b;
    return (q, r);  // 튜플로 반환
}</code></pre>

  <p>사용 예:</p>

  <pre><code class="language-csharp">var result = Divide(17, 5);

Console.WriteLine(result.Quotient);  // 3
Console.WriteLine(result.Remainder); // 2</code></pre>

  <h3>5-2. 더 깔끔하게: 분해(deconstruction) 문법</h3>

  <p>
    튜플을 그대로 받지 않고, <strong>변수 두 개로 바로 쪼개서 받을 수도 있다</strong>.
  </p>

  <pre><code class="language-csharp">var (q, r) = Divide(17, 5); // 튜플을 두 변수로 분해

Console.WriteLine(q); // 3
Console.WriteLine(r); // 2</code></pre>

  <p>
    실무에서 자주 쓰는 패턴이다.
  </p>

  <ul>
    <li>메서드는 <code>(T1, T2, ...)</code> 형태의 튜플을 반환하고</li>
    <li>호출하는 쪽에서는 <code>var (x, y) = ...;</code> 형태로 깔끔하게 받는다</li>
  </ul>

  <hr />

  <h2>6. 가장 많이 쓰는 용도 2 – LINQ 결과에서 임시로 묶기</h2>

  <p>
    LINQ를 사용할 때, “이 값과 저 값을 같이 들고 다니고 싶다”는 상황이 자주 나온다.
  </p>

  <pre><code class="language-csharp">var numbers = new[] { 3, 5, 7, 10 };

// 숫자와 그 숫자의 제곱을 한꺼번에 묶어서 리스트로 만들기
var list = numbers
    .Select(n => (Number: n, Square: n * n))
    .ToList();

foreach (var item in list)
{
    Console.WriteLine($"값: {item.Number}, 제곱: {item.Square}");
}</code></pre>

  <p>
    여기서 <code>(Number: n, Square: n * n)</code> 부분이 튜플이다.
  </p>

  <p>
    클래스를 만들기 애매한 간단한 상황에서,  
    <strong>“필드 2~3개짜리 임시 DTO 역할”</strong>로 자주 사용된다.
  </p>

  <hr />

  <h2>7. 가장 많이 쓰는 용도 3 – 작은 데이터 묶음 운반용</h2>

  <p>
    <q>이 정도면 굳이 클래스를 만들긴 애매한데…</q> 싶은 상황에서 튜플이 딱 맞다.
  </p>

  <pre><code class="language-csharp">(string Id, string Name, bool IsActive) userInfo = ("U001", "홍길동", true);

Console.WriteLine(userInfo.Id);
Console.WriteLine(userInfo.Name);
Console.WriteLine(userInfo.IsActive);</code></pre>

  <p>예를 들어:</p>

  <ul>
    <li>테스트 코드</li>
    <li>샘플 데이터</li>
    <li>함수 내부에서 잠깐 전달하는 중간 결과</li>
  </ul>

  <p>이럴 때 튜플은 아주 간편한 자료 구조가 된다.</p>

  <p>
    반대로, 아래처럼 <strong>의미 있는 도메인 개념</strong>일 경우:
  </p>

  <ul>
    <li><code>Order</code>, <code>Customer</code>, <code>Product</code>, <code>Invoice</code> 등</li>
  </ul>

  <p>
    이런 것들은 별도의 클래스/레코드 타입을 만드는 편이 훨씬 좋다.  
    튜플은 말 그대로 <strong>“가벼운 묶음”</strong> 정도로 생각하면 된다.
  </p>

  <hr />

  <h2>8. 옛날 스타일 Tuple&lt;T1, T2, ...&gt;와의 차이</h2>

  <p>예전에는 이런 방식의 튜플을 썼다.</p>

  <pre><code class="language-csharp">var t = Tuple.Create(10, "Hi");
Console.WriteLine(t.Item1); // 10
Console.WriteLine(t.Item2); // Hi</code></pre>

  <ul>
    <li><code>Tuple&lt;T1, T2&gt;</code> : <strong>참조 타입(클래스)</strong></li>
    <li>값 튜플 <code>(int, string)</code> : <strong>struct(값 타입)</strong></li>
  </ul>

  <p>
    값 튜플은 C# 7부터 본격 도입되었고, 문법이 훨씬 깔끔하며 성능도 더 좋다.<br />
    요즘에는 특별한 이유가 없다면 <code>Tuple&lt;...&gt;</code>보다는  
    <code>(int, string)</code> 같은 <strong>값 튜플 스타일</strong>을 쓰는 것이 일반적이다.
  </p>

  <hr />

  <h2>9. 튜플 vs 클래스를 언제 쓸까?</h2>

  <p>간단하게 다음 기준으로 생각하면 편하다.</p>

  <h3>튜플을 쓰기 좋은 경우</h3>

  <ul>
    <li>잠깐 쓰는 데이터 묶음</li>
    <li>메서드에서 반환값 여러 개를 한 번에 돌려주고 싶을 때</li>
    <li>테스트/샘플/로컬 데이터</li>
    <li>코드 한 함수 또는 한 파일 내부에서만 쓰는 임시 DTO 느낌</li>
  </ul>

  <h3>클래스를 만드는 게 좋은 경우</h3>

  <ul>
    <li>해당 데이터가 <strong>도메인 개념</strong>인 경우 (Order, User, Customer 등)</li>
    <li>여러 군데에서 재사용되는 타입일 때</li>
    <li>필드/기능이 앞으로 더 늘어날 가능성이 있을 때</li>
    <li>의미를 명확하게 표현하고 싶을 때</li>
  </ul>

  <hr />

  <h2>10. 한 번에 정리</h2>

  <ul>
    <li>튜플 = <strong>여러 값을 하나로 묶는 작은 패키지</strong></li>
    <li>C# 7 이후 스타일 예:
      <pre><code class="language-csharp">(int Id, string Name) user = (1, "홍길동");
Console.WriteLine(user.Id);
Console.WriteLine(user.Name);</code></pre>
    </li>
    <li>메서드에서 여러 값을 반환할 때:
      <pre><code class="language-csharp">(int q, int r) Divide(int a, int b) =&gt; (a / b, a % b);
var (q, r) = Divide(17, 5);</code></pre>
    </li>
    <li>LINQ/컬렉션에서 <strong>간단한 DTO 역할</strong>로 매우 자주 사용된다.</li>
  </ul>

  <p>
    튜플은 “<strong>클래스를 만들기엔 너무 무겁고, 값 하나로는 부족한 상황</strong>”에서 빛을 발한다.<br />
    가볍게 여러 값을 묶고 싶을 때, 먼저 떠올려볼 만한 도구라고 보면 된다.
  </p>
</article>